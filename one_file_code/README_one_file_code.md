This is just the same app code but all in one file and not very clean. 